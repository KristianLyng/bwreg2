Kravspesifikasjon for bwreg2
- Alle eksisterende funksjoner som benyttes.

1. Overordnet måla
1.1 BWReg1
1.2 Lisens
1.3 Antatt tidsbruk

2. Tekniske spesifikasjoner
2.1 Verktøy
2.2 Oversikt over individuelle databaser/tabeller
2.3 Brukernivåer og rettigheter




1. Overordnet mål

BWreg er "BølerLAN Web registrering".

Målet med BWReg2 er å sikre at bwreg kan benyttes i fremtiden, og brukes som 
platform for videre utviklingsbehov som måtte oppstå. Systemet skal ta seg av
så stor del som mulig av billettbestilling, plassreservering, kommunikasjon
mellom deltakere og crew (både meldinger fra deltakere til crew, fra crew til
spesifikke deltakere og fra crew til samtlige deltakere via nyheter.). 

Systemet skal være brukervennlig og intuitivt, og så idiotsikkert som overhode
mulig. 

Systemet må tåle en store, brå belastning. Dette forekommer typisk når 
billettsalget åpner. 




1.1 BWreg (versjon 1)

Dagens BWReg, heretter kalt BWreg1, fungerer. BWReg1 ble laget for å tillate 
plassreservering. Deretter ble det fremmet et ønske om at bwreg også ble brukt
som billettbestilling. Så skulle det bli penere og nyhetssystemet ble integrert.

Slik vokste ting på seg fra et lite til et ganske stort prosjekt. Resultatet
er et system som fungerer som et slags lappeteppe. Hver gang en bitte liten
ting skal endres, må store endringer i hele systemet gjøres fordi systemet
ikke var planlagt, men resultatet av spontan utvikling.

I dag betyr dette at  BWReg1 er uegnet for videre utvikling. Det er mange ting
som trengs å forbedres. Og det er bare de tingene vi vet om nå. 




1.2 Lisens

For å ivareta BølerLAN sine fremtidige interesser finner jeg det logisk å
benytte "GNU General Public Licensce"[1]. En lisens som er skapt for å ivareta
brukerens rettigheter. Dette innebærer at kildekoden til BWReg2 vil være Fri.

En fri lisens som dette betyr at videre utvikling av systemet ikke krever noen
form for godkjenning fra den opprinnlige utvikleren. Det eneste det krever er
at de samme rettighetene ivaretas for fremtidige brukere. 

[1] http://www.gnu.org/licenses/gpl.html#SEC1



1.3 Antatt tidsbruk

Et typisk tidsoverslag på et slik prosjekt ligger på rundt 100-250 timer 
utvikling. Dette inkluderer ren koding, planlegging og et minimum av
testing.

Dette tilsvarer cirka den tiden som allerede er investert i BWReg1. 



2. Tekniske spesifikasjoner

2.1 Verktøy

PHP4, MySQL og Apache vil bli brukt for å drive systemet. Det vil i så stor grad som 
mulig skrives uavhengi av andre verktøy. Med unntak av backupscriptene.

Maskinvaren som vil trenges for å drive systemet er minimalt. Det eneste som spiller
noen stor rolle er at internettforbindelsen er stabil.

BWReg2 vil forventes å kjøre på Linux. 



2.2 Oversikt over individuelle databaser/tabeller


Brukerdatabase
 - Inneholder liste over brukere med navn, fødselsår, adresse, telefonnummer, e-postadresse og ekstra-informasjon. 
 - Liste over generelt rettighetsnivå.

Eventdatabase
 - Liste over eventer, med pris, antall rader, plasser, åpningstid, eventansvarlig (link til brukerdatabase)
 - Liten, kort tabell.

Eventusers
 - Linker event-tabellen med brukerdatabasen. 
 - Hver bruker har maks 1 record her. 
 - Inneholder informasjon om: Betalingsstatus, crew-status, plass, ventelisteplass, tid for registrering.

Content table:
 - id og blob
 - Lagrer det faktiske innholdet på de "statiske" sidene. 
 - Krever rettigheter i brukerdatabasen




2.3 Brukernivåer og rettigheter

Fra brukerdatabase:

0: Normal bruker
1: Reservert
2: Bruker med opplastningsrettigheter til filområdet
3-5: Reservert
6: Normal crew




